<%= form_with(model: intervention, local: true) do |form| %>
  <% if intervention.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(intervention.errors.count, "error") %> prohibited this intervention from being saved:</h2>

      <ul>
      <% intervention.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>



<script>
 $(document).ready(function () {
    $('#step2').hide();
    $('#step3').hide();
    
    $('#step1').change(function () {
        $('#step1').hide();
        $('#step2').show();
        $('#'+$(this).val()).show();
    })
    $('#step2').change(function () {
        $('#step2').hide();
        $('#step3').show();
        $('#'+$(this).val()).show();
    })
  });
</script>
  



  <form class="dropdown-menu p-4">
  <div id="step1">
    <h4 class="d-flex justify-content-center align-items-center">STEP 1</h4>
    <div class="field d-flex justify-content-center align-items-center">
      <%= form.label :customer %>
    </div>
    <div class="field d-flex justify-content-center align-items-center">
      <%= form.select :customer, Customer.all.collect {|p| [p.compagny_name, p.id]}  %>
    </div>
  </div>


  <div id="step2">
    <h4 class="d-flex justify-content-center align-items-center">STEP 2</h4>
    <div class="field d-flex justify-content-center align-items-center">
      <%= form.label :author %>
    </div>
    <div class="field d-flex justify-content-center align-items-center">
      <%= form.select :building, Building.all.collect {|p| [p.customer_id, p.id]} , style: "#{'display:none' if @costumer == 2}"%>
    </div>
  </div>

    
  <div id="step3">
    <h4 class="d-flex justify-content-center align-items-center">STEP 3</h4>
    <div class="field d-flex justify-content-center align-items-center">
      <%= form.label :author %>
    </div>
    <div class="field d-flex justify-content-center align-items-center">
      <%= form.select :customer, Customer.all.collect {|p| [p.compagny_name, p.id]} %>
    </div>
  </div>
  </form>




  

  <div class="field">
    <%= form.label :author %>
    <%= form.number_field :author %>
  </div>

  <div class="field">
    <%= form.label :customerid %>
    <%= form.number_field :customerid %>
  </div>

  <div class="field">
    <%= form.label :buildingid %>
    <%= form.number_field :buildingid %>
  </div>

  <div class="field">
    <%= form.label :batteryid %>
    <%= form.number_field :batteryid %>
  </div>

  <div class="field">
    <%= form.label :columnid %>
    <%= form.number_field :columnid %>
  </div>

  <div class="field">
    <%= form.label :elevatorid %>
    <%= form.number_field :elevatorid %>
  </div>

  <div class="field">
    <%= form.label :employeeid %>
    <%= form.number_field :employeeid %>
  </div>

  <div class="field">
    <%= form.label :startdate %>
    <%= form.datetime_select :startdate %>
  </div>

  <div class="field">
    <%= form.label :enddate %>
    <%= form.datetime_select :enddate %>
  </div>

  <div class="field">
    <%= form.label :result %>
    <%= form.text_field :result %>
  </div>

  <div class="field">
    <%= form.label :report %>
    <%= form.text_area :report %>
  </div>

  <div class="field">
    <%= form.label :status %>
    <%= form.text_field :status %>
  </div>

  <div class="actions">
    <%= form.submit :Submit %>
  </div>
<% end %>
